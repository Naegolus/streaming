Version 4
SHEET 1 2924 680
WIRE -496 -2576 -544 -2576
WIRE 112 -2560 -432 -2560
WIRE -32 -2512 -608 -2512
WIRE -544 -2448 -544 -2576
WIRE -496 -2448 -544 -2448
WIRE -160 -2432 -432 -2432
WIRE -32 -2432 -32 -2512
WIRE -32 -2432 -64 -2432
WIRE -608 -2400 -608 -2512
WIRE -160 -2384 -432 -2384
WIRE -32 -2384 -48 -2384
WIRE -544 -2368 -544 -2448
WIRE -496 -2368 -544 -2368
WIRE -672 -2352 -768 -2352
WIRE -544 -2352 -544 -2368
WIRE -544 -2352 -592 -2352
WIRE -544 -2320 -544 -2352
WIRE -336 -2320 -544 -2320
WIRE -768 -2304 -768 -2352
WIRE -544 -2304 -544 -2320
WIRE -336 -2304 -336 -2320
WIRE -32 -2240 -32 -2384
WIRE -32 -2240 -288 -2240
WIRE -544 -2208 -544 -2240
WIRE 112 -1904 112 -2560
WIRE 112 -1904 -816 -1904
WIRE 1216 -1664 608 -1664
WIRE -592 -1648 -768 -1648
WIRE -480 -1648 -480 -1664
WIRE -480 -1648 -592 -1648
WIRE -304 -1648 -480 -1648
WIRE 1216 -1648 1216 -1664
WIRE 608 -1632 608 -1664
WIRE -768 -1600 -768 -1648
WIRE -816 -1584 -816 -1904
WIRE -480 -1584 -480 -1648
WIRE -592 -1520 -592 -1648
WIRE -304 -1520 -304 -1648
WIRE 608 -1504 608 -1552
WIRE -1184 -1472 -1232 -1472
WIRE -1056 -1472 -1104 -1472
WIRE -768 -1472 -768 -1520
WIRE -768 -1472 -976 -1472
WIRE -656 -1472 -768 -1472
WIRE -480 -1472 -480 -1504
WIRE 2400 -1472 2320 -1472
WIRE 1216 -1440 1216 -1568
WIRE 1632 -1440 1632 -1472
WIRE 2016 -1440 1632 -1440
WIRE -656 -1424 -656 -1472
WIRE -592 -1424 -592 -1456
WIRE -592 -1424 -656 -1424
WIRE -1232 -1408 -1232 -1472
WIRE -1232 -1408 -1248 -1408
WIRE 2176 -1376 2176 -1440
WIRE 2016 -1360 2016 -1440
WIRE 2400 -1344 2400 -1472
WIRE -1232 -1328 -1232 -1408
WIRE -656 -1328 -656 -1424
WIRE 1632 -1328 1632 -1440
WIRE -480 -1280 -480 -1392
WIRE 2016 -1248 2016 -1280
WIRE 2176 -1248 2176 -1296
WIRE -1232 -1216 -1232 -1248
WIRE -656 -1216 -656 -1264
WIRE -656 -1216 -1232 -1216
WIRE -640 -1216 -656 -1216
WIRE 608 -1168 608 -1424
WIRE 672 -1168 608 -1168
WIRE 1216 -1168 1216 -1360
WIRE 1216 -1168 672 -1168
WIRE 672 -1136 672 -1168
WIRE -640 -1120 -640 -1216
WIRE -480 -1120 -480 -1200
WIRE -480 -1120 -640 -1120
WIRE -304 -1120 -304 -1456
WIRE -304 -1120 -480 -1120
WIRE -480 -1104 -480 -1120
FLAG -480 -1104 0
FLAG 672 -1136 0
FLAG 1632 -1248 0
FLAG 2016 -1248 0
FLAG 2176 -1248 0
FLAG 2400 -1264 0
FLAG -480 -1664 Supply
FLAG -768 -2224 0
FLAG -336 -2224 0
FLAG -288 -2288 0
FLAG -544 -2208 0
FLAG -656 -2400 0
FLAG 1632 -1472 speed
FLAG -816 -1536 0
SYMBOL voltage -1232 -1344 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 12 1m 10n 1n 1000m 2000m)
SYMBOL res -496 -1600 R0
SYMATTR InstName Motor_DCR
SYMATTR Value 8.57
SYMBOL res 1200 -1456 R0
SYMATTR InstName Internal_Loss
SYMATTR Value 0.0061
SYMBOL bv -480 -1296 R0
SYMATTR InstName B5
SYMATTR Value V=-I(B6)
SYMBOL bv 608 -1520 R0
SYMATTR InstName B6
SYMATTR Value V=I(B5)
SYMBOL bv 1632 -1344 R0
SYMATTR InstName B7
SYMATTR Value V=-(I(b8)/SpeedConversionK)
SYMBOL bv 608 -1648 R0
SYMATTR InstName B8
SYMATTR Value V=(I(B7)/SpeedConversionK)
SYMBOL res 2000 -1376 R0
SYMATTR InstName R6
SYMATTR Value 4.563Meg
SYMBOL res 2160 -1392 R0
SYMATTR InstName R7
SYMATTR Value 1
SYMBOL voltage 2400 -1360 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 5000 1m 10m 10m 100m 200m)
SYMBOL sw -336 -2320 M0
SYMATTR InstName S2
SYMBOL Digital\\srflop -112 -2480 R0
WINDOW 3 -40 28 Left 2
SYMATTR Value tau=1n
SYMATTR InstName A1
SYMBOL cap -560 -2304 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL sw -688 -2352 M90
SYMATTR InstName S4
SYMBOL Digital\\buf -496 -2512 R0
WINDOW 3 73 57 Left 2
SYMATTR Value ref=0.01
SYMATTR InstName A2
SYMBOL Digital\\buf -496 -2432 R0
WINDOW 3 77 62 Left 2
SYMATTR Value ref=1, vhigh=1
SYMATTR InstName A3
SYMBOL bi -768 -2224 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName B1
SYMATTR Value I=10n*abs(v(speed))/10
SYMBOL sw -768 -1504 M180
SYMATTR InstName S5
SYMATTR Value Rotation
SYMBOL ind 1200 -1664 R0
SYMATTR InstName Inertia
SYMATTR Value 10m
SYMBOL res 2336 -1488 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL res -1088 -1488 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10m
SYMBOL ind -960 -1488 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value .1µ
SYMBOL ind -496 -1488 R0
SYMATTR InstName L2
SYMATTR Value 100m
SYMBOL cap -672 -1328 R0
SYMATTR InstName C3
SYMATTR Value 5p
SYMBOL Digital\\buf -496 -2640 R0
WINDOW 3 73 57 Left 2
SYMATTR Value ref=0.999
SYMATTR InstName A4
SYMBOL cap -608 -1520 R0
SYMATTR InstName C4
SYMATTR Value 1p
TEXT -616 280 Left 2 !.tran 8
TEXT -544 -1864 Left 2 ;Electrical circuit
TEXT 1744 -1712 Left 2 ;Output
TEXT 600 -1896 Left 2 ;Internal mechanics
TEXT -600 -1088 Left 2 ;Motor_DCR= Vin/I_stall
TEXT 520 -944 Left 2 ;Internal_Loss=I_noload/(Vin(1-I_noload/I_stall))
TEXT 1624 -1120 Left 2 ;SpeedConversionK=(Vin(1-I_noload/I_stall))/NoLoad_RPM
TEXT 1624 -1160 Left 2 !.param speedconversionk=0.00228
TEXT 520 -976 Left 2 !.param MotorEfficiency=0.952
TEXT 520 -912 Left 2 ;MotorEfficiency = OutputPower/(UsedPower-NoLoadPower-Motor_DCR*(ExtraLoadCurrent)
TEXT 520 -1000 Left 2 !.model MinimumVoltage SW Vt=6 Ron=1f
TEXT 520 -1024 Left 2 !.model Motion SW Vt=1n Ron=1f
TEXT -656 -2152 Left 2 !.model sw sw vt=0.5 ron=1m vh=0.2
TEXT -568 -2656 Left 2 ;Voltage controlled oscillator
TEXT -656 -1048 Left 2 !.model Rotation SW Vt=0.5 Ron=1u
TEXT -528 -1824 Left 2 ;I=current\nV=voltage
TEXT 624 -1768 Left 2 ;I=rotation speed\nV= torque
TEXT 1736 -1664 Left 2 ;V= Rotations in RPM\nI= torque in 2Pi*Nm
TEXT 712 -1496 Left 2 ;Energy exchanged with \nElectrical circuit
TEXT 696 -1624 Left 2 ;Energy exchanged with\nMechanical circuit
TEXT -728 -1560 Left 2 ;Motor switching
